# COD SaaS 多商城系统功能开发说明文档

本说明文档为基于 PHP 开发的货到付款（COD）多租户 SaaS 系统的功能模块说明，系统整体支持超管、公司、员工三级权限体系，并支持前端商城自动识别、多商城独立配置、多域名绑定、员工权限隔离等特性。

---

## 一、系统角色与权限划分

### 1. 超级管理员（Super Admin）

* 管理所有公司账户
* 分配套餐、管理套餐功能权限
* 查看全局订单统计与收入数据
* 系统功能模块管理
* 安全设置与系统配置（如关闭注册、API设置）

### 2. 公司账号（Company Admin）

* 创建、管理多个商城站点
* 每个商城可绑定多个域名（通过主域名访问自动识别）
* 分配员工账号、设置员工可见模块
* 自定义商城：商品、订单、动态表单字段等
* 查看商城经营数据与订单统计

### 3. 员工账号（Employee）

* 被分配特定商城的访问与编辑权限
* 权限粒度控制（如只读订单、增删商品等）
* 工作内容与其他员工隔离，无法互查数据

---

## 二、商城功能模块（每个商城独立）

### 1. 商品管理

* 商品信息：标题、主图、价格、描述、状态（上架/下架）
* 多规格支持（如颜色、尺寸）
* 每商品可设定独立的下单表单字段

### 2. 表单字段设置

* 支持字段类型：文本、电话、地址、下拉、单选、多选
* 可设置字段是否必填、显示顺序、默认值等
* 每商品可以绑定不同表单字段配置

### 3. 订单管理

* 查看、筛选、导出订单（CSV）
* 修改订单状态（未处理、已处理、取消等）
* 支持手动创建订单（客服用途）
* 可设置订单状态变更后触发通知（如 LINE、邮箱）

### 4. 多域名商城绑定

* 每商城可绑定多个域名
* 系统访问时自动识别访问域名 → 商城ID → 注入商城数据
* 前台商城页面完全独立（支持定制样式、文案）

### 5. LINE Notify / 邮件通知

* 可绑定 LINE 通知 Token
* 设置下单、订单变更时自动发送信息
* 邮件通知支持 SMTP 自定义

---

## 三、SaaS 功能模块（平台层）

### 1. 套餐与权限功能模块配置

* 支持自定义套餐名称、价格、功能限制
* 功能模块如：商城数量上限、域名数、员工数、订单导出、通知通道

### 2. 公司注册与开通流程

* 支持开放注册 / 后台创建公司
* 注册时可选择套餐、绑定默认域名
* 自动生成公司管理员账号

### 3. 数据隔离与租户安全

* 多租户结构，数据库通过公司ID分隔所有数据（商城、员工、订单）
* 员工只可访问被授权的商城数据
* 所有数据请求需验证上下文权限

---

## 四、前端商城页面功能

### 1. 商品展示页

* 商品标题、图片、描述、表单字段自动渲染
* 提交订单后记录入库

### 2. 表单字段填写

* 基于每个商品动态字段渲染表单
* 表单验证（必填、格式）

### 3. 成功页与追踪脚本

* 提交成功后跳转成功页
* 可嵌入像素、GA、FB 追踪代码

---

## 五、安装器功能（Installer）



---

## 六、系统安全设计

* 所有操作需权限验证
* 登录保护 + 验证码
* 安装器一旦执行完即禁用
* 跨商城、跨公司数据隔离，确保员工无法访问不属于其的资源

---

## 七、后续可扩展模块建议

* 多语言与币种支持
* 报表中心（订单趋势、商品热度）
* 前端商城主题系统（可切换皮肤样式）

---


## 八、后台 UI 原型建议结构（参考布局）

### 超管后台（Admin）

* 左侧菜单：公司管理｜套餐管理｜系统设置｜日志｜概览面板
* 首页仪表板：平台总览（注册公司数、活跃商城数、订单量）

### 公司后台（Company）

* 左侧菜单：商城管理｜商品管理｜表单字段｜订单管理｜员工管理｜商城配置
* 首页仪表板：商城销售数据、小图表、热销商品排名

### 员工后台（Employee）

* 左侧菜单：订单管理｜商品列表（权限控制）
* 无法看到公司配置、其他员工信息

### 商城前端（Shop）

* 商品页（图片、描述、表单）
* 表单提交页（样式定制、字段动态）
* 提交成功页 + 像素埋点

> 可参考 Tailwind UI、AdminLTE 或基于 Vue.js + Element UI 开发管理端界面。

---
